{# =============================== #}
{# Quiz Battle Dashboard - Wrapper Template #}
{# Extends base.html and includes the battle partial #}
{# =============================== #}

{% set _v = template_version or 'aura_mobile' %}
{% extends _v ~ '/layouts/base.html' %}

{% set hide_header = True %}
{% set hide_footer = True %}

{% block title %}Quiz Battle Dashboard{% endblock %}

{% block head %}
{{ super() }}
<style>
    /* Force hide global headers/footers in case variables don't catch everything on mobile */
    body>header,
    nav.navbar,
    footer,
    .site-footer,
    .mobile-bottom-nav,
    .bottom-nav-bar,
    .global-mobile-navbar,
    .global-bottom-nav {
        display: none !important;
    }

    /* Ensure content takes full height */
    body {
        background-color: #f8fafc;
        padding-bottom: 80px;
        /* Space for battle bottom nav */
    }
</style>
{% endblock %}

{% block content %}
{# Mobile Navigation - REMOVED for unified clean battle UI #}

<style>
    @media (max-width: 1023px) {

        body>header,
        body>nav:first-of-type,
        body>footer:last-of-type {
            display: none !important;
        }

        main {
            margin: 0 !important;
            padding: 0 !important;
        }

        .container {
            max-width: 100% !important;
            margin: 0 !important;
            padding: 0 !important;
        }

        body {
            padding-bottom: 0 !important;
            background-color: #ffffff !important;
        }
    }
</style>

<div class="battle-wrapper">
    {% include _v ~ '/modules/learning/quiz/dashboard/_desktop_battle.html' %}
</div>

<script>
    window.addEventListener('DOMContentLoaded', () => {
        if (window.initGroupBattleDeck) {
            window.initGroupBattleDeck();
        }
    });
</script>
{% endblock %}

