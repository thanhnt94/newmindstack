{#
File: mindstack_app/modules/notes/templates/notes/_note_panel.html
Phiên bản: 1.0
Mục đích: Template cho khung soạn thảo và hiển thị ghi chú.
#}
<style>
    .note-panel {
        position: fixed;
        inset: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        background: rgba(15, 23, 42, 0.55);
        backdrop-filter: blur(2px);
        z-index: 50;
        opacity: 0;
        visibility: hidden;
        pointer-events: none;
        transition: opacity 0.25s ease, visibility 0.25s ease;
    }

    .note-panel.open {
        opacity: 1;
        visibility: visible;
        pointer-events: auto;
    }

    .note-panel__dialog {
        background: #ffffff;
        border-radius: 1rem;
        box-shadow: 0 24px 64px rgba(15, 23, 42, 0.25);
        width: min(92vw, 520px);
        max-height: 80vh;
        display: flex;
        flex-direction: column;
        padding: 1.25rem 1.5rem;
        gap: 0.75rem;
    }

    .note-panel__header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 0.5rem;
    }

    .note-panel__title {
        font-size: 1.125rem;
        font-weight: 700;
        color: #111827;
    }

    .note-panel__header-actions {
        /* New class for the button group */
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }

    .note-panel__edit-btn {
        /* Style for the new edit button in header */
        background: #e0f2fe;
        /* Light blue background */
        color: #0d6efd;
        /* Darker blue text */
        border: 1px solid #bfdbfe;
        /* Light blue border */
        padding: 0.4rem 0.8rem;
        border-radius: 0.5rem;
        font-size: 0.875rem;
        font-weight: 500;
        cursor: pointer;
        transition: background-color 0.2s ease, border-color 0.2s ease;
    }

    .note-panel__edit-btn:hover {
        background: #c7e5ff;
        border-color: #92c5fd;
    }

    .note-panel__close {
        background: transparent;
        border: none;
        color: #6b7280;
        font-size: 1.25rem;
        cursor: pointer;
        padding: 0.25rem;
        border-radius: 0.375rem;
    }

    .note-panel__close:hover {
        background: #f3f4f6;
    }

    .note-panel__body {
        flex: 1 1 auto;
        min-height: 0;
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
    }

    .note-view {
        padding: 0.75rem;
        background: #f9fafb;
        border: 1px solid #e5e7eb;
        border-radius: 0.75rem;
        color: #1f2937;
        min-height: 25vh;
        max-height: 48vh;
        overflow-y: auto;
        white-space: pre-wrap;
    }

    .note-textarea {
        width: 100%;
        min-height: 25vh;
        max-height: 48vh;
        border: 1px solid #d1d5db;
        border-radius: 0.75rem;
        padding: 0.75rem 0.9rem;
        resize: vertical;
        flex-grow: 1;
    }

    .note-actions {
        margin-top: 0.5rem;
        display: flex;
        justify-content: flex-end;
        gap: 0.5rem;
    }

    .note-panel-hidden {
        display: none !important;
    }
</style>

<div id="note-panel" class="note-panel">
    <div class="note-panel__dialog" role="dialog" aria-labelledby="note-panel-title">
        <div class="note-panel__header">
            <h3 id="note-panel-title" class="note-panel__title">Ghi chú cá nhân</h3>
            <div class="note-panel__header-actions">
                <button id="edit-note-btn" class="note-panel__edit-btn note-panel-hidden">
                    <i class="fas fa-pencil-alt mr-1"></i> Sửa
                </button>
                <button id="close-note-btn" class="note-panel__close" aria-label="Đóng">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        </div>
        <div class="note-panel__body">
            <div id="note-view-section" class="note-view note-panel-hidden">
                <div id="note-display" class="whitespace-pre-line text-gray-800"></div>
            </div>
            <div id="note-edit-section" class="note-edit">
                <textarea id="note-textarea" class="note-textarea"
                    placeholder="Nhập ghi chú của bạn ở đây..."></textarea>
                <div class="note-actions">
                    <button id="cancel-note-btn"
                        class="px-4 py-2 bg-gray-100 text-gray-700 rounded-md text-sm border">Hủy</button>
                    <button id="save-note-btn" class="px-4 py-2 bg-blue-600 text-white rounded-md text-sm">Lưu Ghi
                        chú</button>
                </div>
            </div>
        </div>
    </div>
</div>
