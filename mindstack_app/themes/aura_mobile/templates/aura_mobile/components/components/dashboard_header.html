{% macro render_dashboard_header(title, subtitle='', back_url=None, back_func=None, show_home=True,
back_icon='fa-chevron-left')
%}
<div
    class="mobile-header fixed top-0 left-0 right-0 z-50 bg-white border-b border-slate-200 px-4 py-3 flex items-center gap-3 h-[60px] shadow-sm">
    {# Back Button #}
    {% if back_url %}
    <a href="{{ back_url }}"
        class="w-9 h-9 rounded-full bg-slate-50 text-slate-500 flex items-center justify-center hover:bg-slate-100 transition-colors border border-slate-100">
        <i class="fas {{ back_icon }} text-sm"></i>
    </a>
    {% elif back_func %}
    <button onclick="{{ back_func }}"
        class="w-9 h-9 rounded-full bg-slate-50 text-slate-500 flex items-center justify-center hover:bg-slate-100 transition-colors border border-slate-100">
        <i class="fas {{ back_icon }} text-sm"></i>
    </button>
    {% else %}
    <button onclick="history.back()"
        class="w-9 h-9 rounded-full bg-slate-50 text-slate-500 flex items-center justify-center hover:bg-slate-100 transition-colors border border-slate-100">
        <i class="fas {{ back_icon }} text-sm"></i>
    </button>
    {% endif %}

    {# Title & Subtitle (Centered) #}
    <div class="flex-1 min-w-0 flex flex-col items-center justify-center js-mobile-header-text">
        <span
            class="block text-[10px] font-bold text-slate-400 uppercase tracking-widest leading-none mb-1 js-mobile-subtitle"
            {% if not subtitle %}style="display:none" {% endif %}>
            {{ subtitle }}
        </span>
        <h1 class="font-bold text-slate-800 text-lg truncate leading-none text-center w-full js-mobile-title">{{ title
            }}</h1>
    </div>

    {# Right Actions & Home #}
    <div class="flex items-center gap-2">
        {{ caller() if caller else '' }}

        {% if show_home %}
        <a href="/dashboard"
            class="w-9 h-9 rounded-full bg-slate-50 text-slate-500 flex items-center justify-center hover:bg-slate-100 transition-colors border border-slate-100"
            title="Trang chá»§">
            <i class="fas fa-home text-sm"></i>
        </a>
        {% endif %}
    </div>
</div>
<!-- Initial Spacer -->
<div class="h-[60px] w-full shrink-0"></div>
{% endmacro %}

{% macro mobile_footer(extra_classes='') %}
<div
    class="mobile-footer fixed bottom-0 left-0 right-0 z-50 bg-white border-t border-slate-200 p-4 shadow-[0_-4px_20px_-5px_rgba(0,0,0,0.05)] {{ extra_classes }}">
    {{ caller() }}
</div>
<div class="h-[80px] w-full shrink-0"></div>
{% endmacro %}
