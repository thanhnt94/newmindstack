<div id="step-detail" class="vocab-step">

    <div class="step-header-left lg:hidden">

        <a href="/learn/vocabulary/" class="step-back-btn">

            <i class="fas fa-arrow-left"></i>

        </a>

        <div class="step-header-info" style="opacity: 0; transition: opacity 0.3s;">

            <div class="step-header-title-compact js-header-title">Tên bộ thẻ</div>

            <div class="step-header-meta">

                <span class="js-header-card-count">1258</span> thẻ

                <span class="meta-separator">•</span>

                <span class="js-header-progress-percent">3%</span>
            </div>

        </div>
        <a href="#" class="step-edit-btn js-edit-set-btn" title="Sửa bộ thẻ" style="display: none;">
            <i class="fas fa-edit"></i>
        </a>
        <!-- Settings Button -->
        <button type="button" class="step-edit-btn js-open-flashcard-settings" title="Cài đặt học tập"
            style="display: flex; background: #f1f5f9; color: #64748b; box-shadow: none; margin-right: 0.5rem;">
            <i class="fas fa-cog"></i>
        </button>
        <a href="{{ url_for('stats.dashboard') }}" class="step-home-btn">
            <i class="fas fa-home"></i>
        </a>
    </div>

    <div class="vocab-scroll">


        <div class="vocab-detail-hero js-detail-cover">

            <i class="fas fa-book-open"></i>

        </div>



        <div class="vocab-detail-content" style="opacity: 0; transition: opacity 0.3s;">

            <!-- [MOVED] Active Session Banner -->
            <div id="active-session-banner-detail" style="display: none;"
                class="mb-6 rounded-2xl bg-orange-50/80 backdrop-blur border border-orange-100 p-4 shadow-xl shadow-orange-500/10 animate-fadeIn">
                <div class="flex items-center gap-4">
                    <div
                        class="flex-shrink-0 w-12 h-12 rounded-xl bg-gradient-to-br from-orange-400 to-amber-500 flex items-center justify-center text-white shadow-lg shadow-orange-500/30">
                        <i class="fas fa-history text-xl animate-pulse"></i>
                    </div>
                    <div class="flex-1 min-w-0">
                        <h3 class="text-sm font-bold text-orange-900 flex items-center gap-2 mb-1">
                            <span class="truncate">Đang học dở:</span>
                            <span
                                class="js-active-mode-name text-orange-700 uppercase bg-white/50 px-2 py-0.5 rounded text-xs tracking-wider border border-orange-100">--</span>
                        </h3>
                        <div class="flex gap-3 mt-2">
                            <button
                                class="js-resume-session px-4 py-2 bg-orange-600 hover:bg-orange-700 text-white text-xs font-bold rounded-lg transition-all shadow-md hover:shadow-lg flex items-center gap-2 group">
                                <span>Tiếp tục ngay</span> <i
                                    class="fas fa-arrow-right group-hover:translate-x-1 transition-transform"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <h1 class="vocab-detail-title js-detail-title-full">Tên bộ thẻ</h1>

            <div class="vocab-creator-inline">

                <div class="vocab-creator-avatar-small js-creator-avatar">A</div>

                <span class="vocab-creator-name-small js-creator-name">Admin</span>

            </div>

            <p class="vocab-detail-desc js-detail-desc">Mô tả bộ thẻ...</p>



            <div class="vocab-detail-stats">

                <div class="vocab-stat">

                    <div class="vocab-stat-value js-card-count">0</div>

                    <div class="vocab-stat-label">Flashcard</div>

                </div>

                <div class="vocab-stat vocab-stat-progress">

                    <div class="vocab-stat-value vocab-stat-count js-progress-count">0/0</div>

                    <div class="vocab-stat-label">Đã học</div>

                </div>

            </div>



            <!-- Word List -->

            <h3 class="font-bold text-slate-700 mb-3 mt-6">Danh sách từ vựng</h3>

            <div class="js-word-list">

                <!-- Loading spinner initially -->

                <div class="py-12 flex justify-center">

                    <i class="fas fa-spinner fa-spin text-2xl text-indigo-500"></i>

                </div>

            </div>



        </div>



    </div>



    <!-- Fixed Pagination for Detail View -->

    <div id="detail-pagination-bar" class="vocab-pagination-bar visible">

        <button class="pagination-nav-btn js-detail-prev-page" disabled>

            <i class="fas fa-chevron-left"></i>

        </button>

        <div class="pagination-pages js-detail-page-numbers">

            <span class="page-num active">1</span>

        </div>

        <button class="pagination-nav-btn js-detail-next-page" disabled>

            <i class="fas fa-chevron-right"></i>

        </button>

    </div>



    <div class="vocab-footer">

        <button class="vocab-start-btn js-start-learning">

            <i class="fas fa-play-circle"></i> Bắt đầu học

        </button>

    </div>

</div>