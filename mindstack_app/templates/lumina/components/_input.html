{#
File: mindstack_app/templates/lumina/components/_input.html
Purpose: Form input component macros
#}

{#
Text Input Macro
Usage: {{ input(name='email', label='Email', type='email', placeholder='Enter your email', required=True) }}
#}
{% macro input(name, label=None, type='text', placeholder='', required=False, value='', error=None, hint=None, id=None,
classes='') %}
<div class="input-group {{ classes }}">
    {% if label %}
    <label class="input-group__label" for="{{ id or name }}">
        {{ label }}
        {% if required %}<span style="color: var(--lumina-danger);">*</span>{% endif %}
    </label>
    {% endif %}

    <input type="{{ type }}" name="{{ name }}" id="{{ id or name }}"
        class="input-group__input {% if error %}input-group__input--error{% endif %}" placeholder="{{ placeholder }}"
        value="{{ value }}" {% if required %}required{% endif %}>

    {% if error %}
    <p class="input-group__error">{{ error }}</p>
    {% elif hint %}
    <p class="input-group__hint">{{ hint }}</p>
    {% endif %}
</div>
{% endmacro %}

{# Textarea Macro #}
{% macro textarea(name, label=None, placeholder='', required=False, value='', rows=4, error=None, hint=None, id=None,
classes='') %}
<div class="input-group {{ classes }}">
    {% if label %}
    <label class="input-group__label" for="{{ id or name }}">
        {{ label }}
        {% if required %}<span style="color: var(--lumina-danger);">*</span>{% endif %}
    </label>
    {% endif %}

    <textarea name="{{ name }}" id="{{ id or name }}"
        class="input-group__input {% if error %}input-group__input--error{% endif %}" placeholder="{{ placeholder }}"
        rows="{{ rows }}" {% if required %}required{% endif %}>{{ value }}</textarea>

    {% if error %}
    <p class="input-group__error">{{ error }}</p>
    {% elif hint %}
    <p class="input-group__hint">{{ hint }}</p>
    {% endif %}
</div>
{% endmacro %}

{# Select Macro #}
{% macro select(name, options, label=None, selected=None, required=False, error=None, id=None, classes='') %}
<div class="input-group {{ classes }}">
    {% if label %}
    <label class="input-group__label" for="{{ id or name }}">
        {{ label }}
        {% if required %}<span style="color: var(--lumina-danger);">*</span>{% endif %}
    </label>
    {% endif %}

    <select name="{{ name }}" id="{{ id or name }}"
        class="input-group__input {% if error %}input-group__input--error{% endif %}" {% if required %}required{% endif
        %}>
        {% for option in options %}
        <option value="{{ option.value }}" {% if option.value==selected %}selected{% endif %}>
            {{ option.label }}
        </option>
        {% endfor %}
    </select>

    {% if error %}
    <p class="input-group__error">{{ error }}</p>
    {% endif %}
</div>
{% endmacro %}

{# Checkbox Macro #}
{% macro checkbox(name, label, checked=False, id=None, classes='') %}
<label class="input-group {{ classes }}"
    style="display: flex; align-items: center; gap: var(--space-2); cursor: pointer;">
    <input type="checkbox" name="{{ name }}" id="{{ id or name }}" {% if checked %}checked{% endif %}
        style="width: 18px; height: 18px; accent-color: var(--lumina-primary);">
    <span style="font-size: var(--font-size-sm); color: var(--lumina-text);">{{ label }}</span>
</label>
{% endmacro %}

{# Search Input Macro #}
{% macro search_input(name='search', placeholder='Tìm kiếm...', value='', id=None) %}
<div class="input-group" style="position: relative; margin-bottom: 0;">
    <i class="fas fa-search"
        style="position: absolute; left: var(--space-4); top: 50%; transform: translateY(-50%); color: var(--lumina-text-muted);"></i>
    <input type="search" name="{{ name }}" id="{{ id or name }}" class="input-group__input"
        placeholder="{{ placeholder }}" value="{{ value }}" style="padding-left: var(--space-10);">
</div>
{% endmacro %}